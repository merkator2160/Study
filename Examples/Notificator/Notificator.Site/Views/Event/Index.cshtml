@model IEnumerable<Notificator.Core.Model.EventInfo>

@{
    ViewBag.Title = "All Events";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>All Events</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table>
<tr>
    <th>Name</th>
    <th>Members</th>
    <th></th>
</tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @item.Name
        </td>
        <td>
            @item.UserCount
        </td>
        <td>
        @if (item.JoinDate != null)
        {
            <span>Joined at</span>
            @item.JoinDate
        }
        else
        {
            @Html.ActionLink("Join", "Join", new {id = item.Id})
        }
        </td>
    </tr>
}

</table>

